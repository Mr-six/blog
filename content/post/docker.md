---
title: 'dockerå‘½ä»¤è¯¦è§£'
date: 2017-03-29 15:39:53
categories: ['docker']
tags: ['docker']
---
## dockerå‘½ä»¤è¯¦è§£ ##

###å‰è¨€
ä»æŠ€æœ¯è€å¤§é‚£é‡Œå¬è¯´äº†dockerï¼Œé—²ä¸‹æ¥ä¹‹åå°±ç®€å•äº†è§£äº†ä¸€ä¸‹ï¼Œå‘ç°çœŸçš„æ˜¯ä¸€ä¸ªå¥½ç”¨çš„ä¸å¾—äº†çš„å·¥å…·ã€‚é‚å‘¨æœ«å»å›¾ä¹¦é¦†æ‰¾äº†ä¸‹ç›¸å…³èµ„æ–™ï¼Œå­¦ä¹ ä¸‹å§¿åŠ¿ã€‚è¯´ä¸å®šå“ªå¤©ç”¨ä¸Šäº†å‘¢ğŸ˜ã€‚åœ¨çœ‹èµ„æ–™çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰ä¸å°‘å‘½ä»¤éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥å¹²è„†åšäº†ä¸€ä¸ªæ•´ç†ï¼Œä»¥å¤‡ä»¥åæŸ¥é˜…ã€‚psï¼šåœ¨dockerå‘½ä»¤åè¾“å…¥ `-h` å‚æ•°ï¼Œå¯æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚æˆ‘ä¹Ÿæ˜¯å‚ç…§æŸæœ¬ä¹¦ä¸Šçš„å‘½ä»¤æ•´ç†çš„ï¼Œä¹Ÿä¸æ˜¯å¾ˆå…¨ï¼Œå¾…ä»¥åé‡åˆ°äº†ç»§ç»­è¡¥å……ã€‚
> æ–‡ä¸­ =[] è¡¨ç¤ºè®¾ç½®é€‰é¡¹æ—¶å¯ä»¥è®¾ç½®ä¸åŒçš„å€¼ï¼Œå¹¶ä¸”å¯ä»¥å¤šæ¬¡ä½¿ç”¨ å¦‚ï¼š -p 8000:80 -p 8080:8080
å‘½ä»¤åé¢çš„ =false è¡¨ç¤ºé»˜è®¤å€¼ä¸º false  ="" è¡¨ç¤ºé»˜è®¤å€¼ä¸ºç©º
>è‹¥ç”¨æˆ·ä¸å±äºdockerç»„ï¼Œå¯èƒ½éœ€è¦sudoæ‰§è¡Œ

## dockeråŸºç¡€å‘½ä»¤

> docker <é€‰é¡¹><å‘½ä»¤><å‚æ•°>

`--api-enable-cors=false` ä½¿ç”¨APIæ—¶ï¼Œå¯ç”¨CORSï¼ˆcross-origin resource sharingï¼‰

`-b ã€--bridge=""` ä½¿ç”¨äº‹å…ˆåˆ›å»ºçš„ç½‘æ¡¥æ¥å£ã€‚è‹¥è®¾ç½®ä¸ºnoneï¼Œåˆ™ä¸åœ¨å®¹å™¨å†…ä½¿ç”¨ç½‘ç»œ

`--bip=""` ä½¿ç”¨CIDRæ ‡è®°æ³•è®¾ç½®docker çš„IPå¸¦å®½ã€‚è¯¥é€‰é¡¹ä¸èƒ½ä¸`-b`é€‰é¡¹åŒæ—¶ä½¿ç”¨
    å¦‚ï¼š`-bip="192.168.0.0/24"`
    
`-D ã€--debug`  å¯ç”¨è°ƒè¯•æ¨¡å¼

`-d ã€--deamon=false` ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œ

`--dns` è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœåŠ¡å™¨

`--dns-search=[]` è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœç´¢åŸŸã€‚è‹¥è®¾ç½®ä¸ºï¼šexample.comï¼Œåˆ™å‘æœåŠ¡å™¨æŸ¥è¯¢helloæ—¶ï¼Œå°†é¦–å…ˆæŸ¥æ‰¾hello.example.com

`-eã€--exec-drive="native"` è®¾ç½®dockerè¿è¡Œé©±åŠ¨ï¼Œå¯è®¾ç½®ä¸ºNativeä¸lxc

`--fixed-cidr=""` å›ºå®šåˆ†é…IPv4åœ°å€çš„å¸¦å®½ã€‚è¯¥IPåœ°å€å¿…é¡»åœ¨`-b`é€‰é¡¹è®¾ç½®çš„ç½‘æ¡¥ç½‘ç»œæˆ–`--bip`è®¾ç½®çš„IPç½‘æ®µå†…

`-Gã€--group="docker"` ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œæ—¶ï¼Œä½¿ç”¨`-H`é€‰é¡¹åˆ›å»ºUnixå¥—æ¥å­—åï¼Œè®¾ç½®è¯¥Unixå¥—æ¥å­—æ‰€åœ¨çš„ç»„ã€‚ä½¿ç”¨""ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºä¸è®¾ç½®åˆ†ç»„

`-gã€ --graph="/var/lib/docker"` è®¾ç½®dockerä½¿ç”¨ç›®å½•çš„é¡¶å±‚è·¯å¾„

`-Hã€--host[]` ä»¥å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼è¿è¡Œæ—¶ï¼Œè®¾ç½®å¥—æ¥å­—è·¯å¾„ã€‚

`--icc=true` å¼€å¯å®¹å™¨é—´é€šä¿¡

`--insecure-registry=[]` ä½¿ç”¨ç§æœ‰è¯ä¹¦æ­å»ºdockeræ³¨å†ŒæœåŠ¡å™¨æ—¶ï¼Œè®¾ç½®dockeræ³¨å†ŒæœåŠ¡å™¨åŸŸå

`--ip=0.0.0.0` ä½¿ç”¨`docker run` å‘½ä»¤æ—¶`-p`é€‰é¡¹å°†ç«¯å£æš´éœ²åœ¨å¤–æ—¶ï¼Œè®¾ç½®è¦ç»‘å®šçš„é»˜è®¤IPåœ°å€

`--ip-forward=true` å¼€å¯net.ipv4.ip_forward

`--ip-masq=true` ä¸ºç½‘æ¡¥ä¸Šçš„IPåœ°å€å¼€å¯IPä¼ªè£…ï¼ˆmasqueradingï¼‰

`--iptables=true` å¼€å¯iptablesè§„åˆ™

`--mtu=0` è®¾ç½®å®¹å™¨çš„ç½‘ç»œæœ€å¤§ä¼ è¾“å•å…ƒï¼ˆMTU, Maxmum transmission unitï¼‰è‹¥ä¸è®¾ç½®ï¼Œåˆ™ä½¿ç”¨è·¯ç”±å™¨çš„é»˜è®¤MTUæˆ–è€…è®¾ç½®ä¸º1500

`-pã€--pidfile="/var/run/docker.pid"` è®¾ç½®PIDæ–‡ä»¶è·¯å¾„

`-registry-mirror=[]` è®¾ç½®docker registry çš„é•œåƒåœ°å€

`-sã€--storage-driver=[]` è®¾ç½®å‚¨å­˜é©±åŠ¨ï¼Œé»˜è®¤ä¸ºautoï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºdrivcemapper

`--selinux-enabled=false`å¼€å¯SELinux SELinuxå°šä¸æ”¯æŒBTRFSå‚¨å­˜é©±åŠ¨

`--storage-opt` è®¾ç½®å­˜å‚¨é©±åŠ¨é€‰é¡¹

`--tls=false` ä½¿ç”¨TLS

`--tlscacert="/home/exapmleuser/.docker/ca.pem"` è®¾ç½®è¦åœ¨è¿œç¨‹è¯ä¹¦ä¸­ä½¿ç”¨çš„CAè¯ä¹¦æ–‡ä»¶çš„è·¯å¾„

`--tlscert="/home/exapmleuser/.docker/cert.pem"` è®¾ç½®è¯ä¹¦æ–‡ä»¶è·¯å¾„

`--tlskey="/home/exapmleuser/.docker/key.pem"` è®¾ç½®å¯†åŒ™æ–‡ä»¶è·¯å¾„

`tlsverify="false"` ä½¿ç”¨TLSè¿œç¨‹è¯ä¹¦ï¼Œå®ˆæŠ¤è¿›ç¨‹ä¸å®¢æˆ·ç«¯å…¨éƒ¨ä½¿ç”¨è¯ä¹¦éªŒè¯

`-vã€--version=false` æ‰“å°ç‰ˆæœ¬ä¿¡æ¯

## attachå‘½ä»¤

> attachå‘½ä»¤ç”¨äºå°†æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰ä¸æ ‡å‡†è¾“å‡ºï¼ˆstdoutï¼‰è¿æ¥åˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨

> docker attach <é€‰é¡¹><å®¹å™¨åç§°, id>

`--no-stdin=false` ä¸è¿æ¥æ ‡å‡†è¾“å…¥

`--sig-proxy=true` å°†æ‰€æœ‰ä¿¡å·ä¼ é€’ç»™è¿›ç¨‹ï¼ˆéTTYæ¨¡å¼æ—¶ä¹Ÿä¸€æ ·ï¼‰ä½†ä¸ä¼ é€SIGCHLDã€SIGKILLã€SIGSTOPä¿¡å·ã€‚ç»å¸¸ä½¿ç”¨çš„ä¿¡å·å¦‚ä¸‹ï¼š
    SIGINTï¼šinterruptä¿¡å·ï¼Œè¾“å…¥Ctrl + c æ—¶å‘ç”Ÿ
    SIGQUITï¼šQuitä¿¡å·ï¼Œè¾“å…¥Ctrl + \ æ—¶å‘ç”Ÿ
    EOFï¼šç»ˆæ­¢attachçŠ¶æ€ï¼Œè¾“å…¥Ctrl + d æ—¶å‘ç”Ÿ
ä¸€èˆ¬ä¼šå…ˆè¿è¡ŒBashç­‰shellï¼Œç„¶åä½¿ç”¨docker attach å‘½ä»¤è¿æ¥åˆ°å®¹å™¨ï¼Œåœ¨è¿è¡Œå„ç§å‘½ä»¤
`docker run -it --name hello ubuntu /bin/bash`
`docker attach hello`

## build å‘½ä»¤

> buildå‘½ä»¤ä½¿ç”¨Dockerfileæ–‡ä»¶åˆ›å»ºé•œåƒ

> docker build <é€‰é¡¹><Dockerfileè·¯å¾„>

Dockerfile è·¯å¾„å¯ä»¥ä½¿æ˜¯æœ¬åœ°è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯URLè·¯å¾„ã€‚è‹¥è®¾ç½®ä¸º - ï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥è·å–Dockerfileçš„å†…å®¹

`--force-rm=false` åˆ›å»ºé•œåƒå¤±è´¥æ—¶ï¼Œåˆ é™¤ä¸´æ—¶å®¹å™¨

`--no-cache=false` ä¸ä½¿ç”¨ä¹‹å‰æ„å»ºä¸­åˆ›å»ºçš„ç¼“å­˜ã€‚

`-qã€--quiet=false` ä¸æ˜¾ç¤ºDockerfileçš„RUNè¿è¡Œçš„è¾“å‡ºç»“æœ

`--rm=true` åˆ›å»ºé•œåƒæˆåŠŸæ—¶ï¼Œåˆ é™¤ä¸´æ—¶å®¹å™¨

`-tã€--tag=""` è®¾ç½®æ³¨å†Œåç§°ã€é•œåƒåç§°ã€æ ‡ç­¾ã€‚æ ¼å¼ä¸º <æ³¨å†Œåç§°>/<é•œåƒåç§°>:<æ ‡ç­¾>ï¼ˆæ ‡ç­¾é»˜è®¤ä¸ºlatestï¼‰

## commit å‘½ä»¤
>commitå‘½ä»¤ç”¨äºä»å®¹å™¨çš„ä¿®æ”¹é¡¹åˆ›å»ºæ˜¾å¾—é•œåƒ

> docker commit <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>/<é•œåƒåç§°>:<æ ‡ç­¾>

`-aã€--author=""` è®¾ç½®å¥–é¡¹åˆ›å»ºè€…çš„æœ‰å…³ä¿¡æ¯
`-mã€--message=""` è®¾ç½®æœ‰å…³å˜æ›´äº‹é¡¹çš„æ—¥å¿—ä¿¡æ¯
`-pã€--pause=true` åˆ›å»ºé•œåƒæ˜¯æš‚åœå®¹å™¨

## cp å‘½ä»¤
> cpå‘½ä»¤ç”¨äºå°†å®¹å™¨çš„ç›®å½•æˆ–æ–‡ä»¶å¤åˆ¶çš„åˆ°ä¸»æœºã€‚è‹¥å°†cpå‘½ä»¤ä¸­çš„è·¯å¾„è®¾ç½®ä¸ºç›®å½•ï¼Œåˆ™å°†è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°ä¸»æœº

> docker cp <å®¹å™¨åç§°>:<è·¯å¾„><ä¸»æœºè·¯å¾„>

`$ docker cp hello:/etc \.` å°†å®¹å™¨å†…çš„æ•´ä¸ª/etc ç›®å½•å¤åˆ¶åˆ°ä¸»æœºå½“å‰æ–‡ä»¶å¤¹ä¸‹

## create å‘½ä»¤
> create å‘½ä»¤ä½¿ç”¨æŒ‡å®šçš„é•œåƒåˆ›å»ºå®¹å™¨ã€‚ä¸runå‘½ä»¤ä¸åŒï¼Œä½¿ç”¨createå‘½ä»¤åªèƒ½åˆ›å»ºå®¹å™¨è€Œå¹¶ä¸å¯åŠ¨

> docker create <é€‰é¡¹><é•œåƒåç§°,id><å‘½ä»¤><å‚æ•°>

`-a ã€--attach=[]` å°†æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯é“¾æ¥åˆ°å®¹å™¨
    --attach="stdin"
    
`--add-host=[]` å‘å®¹å™¨çš„/etc/hostsæ·»åŠ ä¸»æœºåä¸IPåœ°å€
    --add-host=hello:192.168.0.233
    
`-Cã€--cpu-shares=0` è®¾ç½®cupèµ„æºåˆ†é…ã€‚é»˜è®¤æ˜¯è¿™å€¼ä¸º1024ï¼Œå„å€¼ä¸ºç›¸å¯¹å€¼
    è‹¥è®¾ç½®ä¸º--cpu-shares=2048, åˆ™åˆ†é…é»˜è®¤å€¼ä¸º2å€çš„CPUèµ„æº
    åœ¨Linuxå†…æ ¸çš„cgroupsä¸­ä½¿ç”¨è¯¥è®¾ç½®çš„å€¼
`--cap-add[]` è®¾ç½®å®¹å™¨ä¸­ä½¿ç”¨çš„cgroupsçš„ç‰¹å®šCapablityã€‚è‹¥è®¾ç½®ä¸ºALLï¼Œåˆ™ä½¿ç”¨æ‰€æœ‰çš„Capablity
`--cap-drop=[]` ä»å®¹å™¨åˆ é™¤cgroupçš„ç‰¹å®šCapablity
`--cidfile=""` è®¾ç½®cidæ–‡ä»¶è·¯å¾„ã€‚cidä¸­å­˜å‚¨ç€æ‰€åˆ›å»ºå®¹å™¨çš„id
`--cpuset=""` åœ¨å¤šæ ¸CPUä¸­è®¾ç½®è¦è¿è¡Œå®¹å™¨çš„æ ¸å¿ƒæ•°
    è‹¥è®¾ç½®--cpuset="0,1" åˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ç¬¬äºŒä¸ªcup
    è‹¥è¿™æ˜¯--cupset="0-2" åˆ™ä½¿ç”¨ä»ç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªcup
`--device=[]` æ·»åŠ ä¸»æœºè®¾å¤‡åˆ°å®¹å™¨ï¼Œæ ¼å¼ä¸º<ä¸»æœºè®¾å¤‡>:<å®¹å™¨è®¾å¤‡>
    è‹¥è®¾ç½®ä¸º --device="/dev/sda1:/dev/sda1",åˆ™åœ¨å®¹å™¨ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸»æœºçš„/dev/sda1å—è®¾å¤‡
    
`--dns=[]` è®¾ç½®å®¹å™¨ä¸­è¦ç”¨åˆ°çš„DNSæœåŠ¡å™¨

`--dns-search=[]` è®¾ç½®dockerè¦ä½¿ç”¨çš„DNSæœç´¢åŸŸã€‚

`-eã€--env=[]` å‘å®¹å™¨è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä¸€èˆ¬ç”¨äºä¼ é€’è®¾ç½®æˆ–è€…å¯†ç 
    å¦‚ï¼š-e MYSQL_ROOT_PASSWORD=root
`--entrypoint=""` å¿½ç•¥Dockerfileçš„ENTRYPOINTè®¾ç½®ï¼Œå¼ºåˆ¶è®¾ç½®ä¸ºå…¶ä»–å€¼ã€‚
    å¦‚ï¼š--entrypoint="/bin/bash"
`--env-file=[]` å‘å®¹å™¨åº”ç”¨è®¾ç½®ç¯å¢ƒå˜é‡æ–‡ä»¶
`--expose=[]` ä»…è¿æ¥å®¹å™¨çš„ç«¯å£ä¸ä¸»æœºï¼Œå¹¶ä¸æš´éœ²åœ¨å¤–
    --expose="3306"
`-hã€--hostname=""` è®¾ç½®å®¹å™¨ä¸»æœºå
`-iã€--interactive=false` æ¿€æ´»æ ‡å‡†è¾“å…¥ï¼Œå³ä½¿æœªä¸å®¹å™¨è¿æ¥ï¼ˆattachï¼‰ï¼Œä¹Ÿç»´æŒæ ‡å‡†è¾“å…¥ã€‚ä¸€èˆ¬ä½¿ç”¨è¯¥é€‰é¡¹å‘Bashè¾“å…¥å‘½ä»¤
`--link=[]` è¿›è¡Œå®¹å™¨è¿æ¥ï¼Œæ ¼å¼ä¸º<å®¹å™¨åç§°>:<åˆ«å>
    --link mysql-server:mysql

`--lxc-conf=[]` è‹¥ä½¿ç”¨LXCé©±åŠ¨ï¼Œåˆ™å¯ä»¥è®¾ç½®LXCé€‰é¡¹
    --lxc-conf="lxc.cgroup.cpuset.cpu = 0,1"    

`-mã€--memory=""` è®¾ç½®å†…å­˜é™åˆ¶ï¼Œæ ¼å¼ä¸º<æ•°å­—><å•ä½>ï¼Œå•ä½å¯ä»¥ä½¿ç”¨b,k,m,g
    --memory="512m"  
`--name` è®¾ç½®å®¹å™¨åç§°
`--net="bridge"` è®¾ç½®å®¹å™¨çš„ç½‘ç»œæ¨¡å¼ï¼ˆé€‰é¡¹å¯ä»¥æ˜¯ï¼šbridge,none,container,hostï¼‰
`-Pã€--publish-all=false` å°†è¿æ¥åˆ°ä¸»æœºçš„å®¹å™¨çš„æ‰€æœ‰ç«¯å£æš´éœ²åœ¨å¤–
`-pã€--publish=[]` å°†è¿æ¥åˆ°ä¸»æœºçš„å®¹å™¨çš„ç‰¹å®šç«¯å£æš´éœ²åœ¨å¤–ã€‚ä¸€èˆ¬ä¸»è¦ç”¨äºæš´éœ²webæœåŠ¡å™¨çš„ç«¯å£
`--privileged=false` åœ¨å®¹å™¨å†…éƒ¨ä½¿ç”¨ä¸»æœºçš„æ‰€æœ‰Linuxå†…æ ¸åŠŸèƒ½
`--restart=""` è®¾ç½®å®¹å™¨å†…éƒ¨è¿›ç¨‹ç»ˆæ­¢æ—¶é‡å¯ç­–ç•¥
    --restart=no å³ä½¿è¿›ç¨‹ç»ˆæ­¢ä¹Ÿä¸é‡å¯
    --restart="on-failure" ä»…å½“è¿›ç¨‹çš„Exit Code ä¸ä¸º0æ—¶æ‰§è¡Œé‡å¯ã€‚ä¹Ÿå¯ä»¥è®¾ç½®é‡ç½®æ¬¡æ•°ã€‚è‹¥ä¸è®¾ç½®é‡è¯•æ¬¡æ•°ï¼Œè¿™ä¸æ–­é‡å¯ã€‚å¦‚ --restart="no-failure:10"
    --restart="always" ä¸å—Exit Codeçš„å½±å“ï¼Œæ€»æ˜¯é‡å¯
`--security-opt=[]` è®¾ç½®SELinuxã€AppArmor é€‰é¡¹
`-tã€--tty=false` ä½¿ç”¨TTYæ¨¡å¼ï¼ˆpseudo-TTYï¼‰ã€‚è‹¥è¦ä½¿ç”¨Bashï¼Œåˆ™å¿…é¡»è®¾ç½®è¯¥é€‰é¡¹ã€‚è‹¥ä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™å¯ä»¥è¾“å…¥å‘½ä»¤ï¼Œä½†ä¸æ˜¾ç¤ºshell
`-uã€--user=""` è®¾ç½®å®¹å™¨è¿è¡Œæ—¶è¦ä½¿ç”¨çš„Linuxç”¨æˆ·è´¦æˆ·ä¸UID
`-vã€--volume=[]` è®¾ç½®æ•°æ®å·ã€‚è®¾ç½®è¦ä¸ä¸»æœºå…±äº«ç›®å½•ï¼Œä¸å°†æ–‡ä»¶ä¿å­˜åˆ°å®¹å™¨ï¼Œè€Œç›´æ¥ä¿å­˜åˆ°ä¸»æœºã€‚åœ¨ä¸»æœºç›®å½•åæ·»åŠ  :roã€:rwè¿›è¡Œè¯»å†™è®¾ç½®ï¼Œé»˜è®¤ä¸º:rwã€‚
`--volumes-from=[]` è¿æ¥æ•°æ®å·å®¹å™¨ï¼Œè®¾ç½®æ ¼å¼ä¸º<å®¹å™¨åï¼Œid>:<:ro, :rw> é»˜è®¤æƒ…å½¢ä¸‹ï¼Œè¯»å†™è®¾ç½®éµä»-vé€‰é¡¹çš„è®¾ç½®ã€‚
`-wã€--workdir=""` è®¾ç½®å®¹å™¨å†…éƒ¨è¦è¿è¡Œè¿›ç¨‹çš„ç›®å½•

    è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºå®¹å™¨
    $ docker create -it --name hello ubuntu /bin/bash
    è‹¥æƒ³ä½¿ç”¨åˆšåˆšåˆ›å»ºçš„å®¹å™¨ï¼Œåˆ™å¿…é¡»ä½¿ç”¨docker start å‘½ä»¤å¯åŠ¨å®¹å™¨
    $ docker start hello
    è¿›å…¥å®¹å™¨å†…éƒ¨
    $ docker attach hello

## diff å‘½ä»¤
> diffå‘½ä»¤ç”¨äºæ£€æŸ¥å®¹å™¨æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹

> docker diff <å®¹å™¨åç§°ï¼Œid>

æ¯”è¾ƒæ–‡ä»¶æ˜¯å¦ä¿®æ”¹çš„æ ‡å‡†æ˜¯å®¹å™¨åˆ›å»ºæ—¶çš„é•œåƒå†…å®¹
    Aï¼šæ·»åŠ çš„æ–‡ä»¶
    Cï¼šä¿®æ”¹çš„æ–‡ä»¶
    Dï¼šåˆ é™¤çš„æ–‡ä»¶
## events å‘½ä»¤
> eventså‘½ä»¤ç”¨äºå®æ—¶è¾“å‡ºDockeræœåŠ¡å™¨ä¸­å‘ç”Ÿçš„äº‹ä»¶

> docker events

`--since=""` è¾“å‡ºç‰¹å®šçš„timestampä¹‹åçš„äº‹ä»¶
`--until=""` è¾“å‡ºç‰¹å®šçš„timestampä¹‹å‰çš„äº‹ä»¶
è¿è¡Œdocker eventså‘½ä»¤ï¼Œè¿›å…¥å¾…æœºçŠ¶æ€
    $ docker events
åœ¨å¦ä¸€ç»ˆç«¯ï¼Œè¿è¡Œå®¹å™¨
    $ docker start hello  #å‡è®¾å®¹å™¨å·²å­˜åœ¨
å°±ä¼šåœ¨åˆšåˆšçš„docker events å‘½ä»¤çª—å£çœ‹åˆ° è¿è¡Œhello å®¹å™¨çš„äº‹ä»¶
## exec å‘½ä»¤
> execå‘½ä»¤ç”¨äºä»å¤–éƒ¨è¿è¡Œå®¹å™¨å†…éƒ¨çš„å‘½ä»¤

> docker exec <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid><å‘½ä»¤><å‚æ•°>

`-dã€--detach=false` ä»¥åå°æ¨¡å¼è¿è¡Œå‘½ä»¤
`-iã€--interactive=false` å¼€å¯æ ‡å‡†è¾“å…¥ï¼Œå³ä½¿æœªä¸å®¹å™¨è¿æ¥ï¼Œä¹Ÿç»´æŒæ ‡å‡†è¾“å…¥
`-tã€--tty=false` ä½¿ç”¨TTYæ¨¡å¼ï¼ˆpseudo-TTYï¼‰è‹¥è¦ä½¿ç”¨bashï¼Œåˆ™å¿…é¡»è®¾ç½®è¯¥é€‰é¡¹ã€‚è‹¥ä¸è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™è™½ç„¶è¾“å…¥å‘½ä»¤ï¼Œä½†ä¸æ˜¾ç¤ºshell
è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œåˆ›å»ºå®¹å™¨
    $ docker run -d --name hello ubuntu /bin/bash -c "while true; do echo Hello World; sleep 1; done"
è®¾ç½®æ¯éš”ä¸€ç§’è¾“å‡ºä¸€æ¬¡hello worldã€‚åœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè¿è¡Œå®¹å™¨å†…éƒ¨çš„/bin/bash,è¿æ¥è‡³bash shell ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚è¿æ¥bash shell æ—¶ï¼Œåªæœ‰ä½¿ç”¨ -i -t é€‰é¡¹æ‰èƒ½è¾“å…¥å‘½ä»¤å¹¶æŸ¥çœ‹ç»“æœ
    $ docker exec -it hello /bin/bash  #è¿æ¥å®¹å™¨
    $ ps ax  # æŸ¥çœ‹è¿›ç¨‹
![å›¾ç‰‡æè¿°][1]
è‹¥åœ¨å®¹å™¨å†…éƒ¨è¿è¡Œps ax å‘½ä»¤ï¼Œåˆ™å¯ä»¥çœ‹åˆ°ç”±docker exec å‘½ä»¤è¿è¡Œçš„å…¶ä»–/bin/bashï¼Œä¸è¾“å‡ºhello world çš„/bin/bash ä¸æ˜¯åŒä¸€ä¸ªã€‚è¾“å…¥exitå‘½ä»¤é€€å‡ºBash shellåï¼Œå®¹å™¨ä¸ä¼šåœæ­¢ï¼Œè€Œä¼šç»§ç»­è¿è¡Œã€‚åƒè¿™æ ·ï¼Œçµæ´»ä½¿ç”¨ docker exec å‘½ä»¤å°†Bash shell è¿æ¥åˆ°æ­£åœ¨è¿è¡Œå®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨ä¸Šï¼Œå¹¶è¡Œå¤šç§æ“ä½œ
å¦‚ä¸‹ï¼šä¸è¿æ¥Bash shellï¼Œè€Œä½¿ç”¨apt-getç­‰å‘½ä»¤ï¼Œåœ¨å®¹å™¨å†…å®‰è£…redis-serveråŒ…ï¼Œ
    $ docker exec hello apt-get update
    $ docker exec hello apt-get install -y redis-server
    $ docker exec -d hello redis-server # åå°è¿è¡Œrides-server
## export å‘½ä»¤
> exportå‘½ä»¤å°†ç”¨äºå°†å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿå¯¼å‡ºä¸ºtaræ–‡ä»¶åŒ…

> docker export <å®¹å™¨åç§°ï¼Œid>

åªè¿è¡Œdocker export å‘½ä»¤åï¼Œç”±äºå®¹å™¨çš„å†…å®¹ä¼šè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæ‰€ä»¥å¿…é¡»è®¾ç½®é‡å®šå‘
    $ docker run -it -d --name hello ubuntu /bin/bash
    $ docker export hello > hello.tar

## history å‘½ä»¤
> history å‘½ä»¤ç”¨äºæ˜¾ç¤ºé•œåƒçš„å†å²ã€‚æ­¤å¤„çš„å†å²ä¾æ®Dockerfileæ–‡ä»¶ä¸­çš„è®¾ç½®åˆ›å»ºã€‚

> docker history <é€‰é¡¹><é•œåƒåç§°ï¼Œid>

`--no-trunc=false` è¾“å‡ºæ‰€æœ‰å› å†…å®¹è¿‡é•¿è€Œçœç•¥çš„éƒ¨åˆ†
`-qã€--quiet=false` åªæ˜¾ç¤ºé•œåƒid
## images å‘½ä»¤
> imageså‘½ä»¤ç”¨äºè¾“å‡ºé•œåƒåˆ—è¡¨

> docker images <é€‰é¡¹><é•œåƒåç§°ï¼Œid> 

`-aã€--all=false` åˆ—å‡ºæ‰€æœ‰é•œåƒï¼ŒåŒ…æ‹¬çˆ¶é•œåƒ
`-fã€--filter=[]` è®¾ç½®è¾“å‡ºç»“æœè¿‡æ»¤ã€‚è‹¥è®¾ç½®ä¸º"dangling=true"ï¼Œåˆ™åªè¾“å‡ºæ— åé•œåƒ
`--no-trunc=false` æ˜¾ç¤ºæ‰€æœ‰å› å†…å®¹è¿‡é•¿è€Œçœç•¥çš„éƒ¨åˆ†
## import å‘½ä»¤
> importå‘½ä»¤ç”¨äºä»å‹ç¼©ä¸ºtaræ–‡ä»¶ï¼ˆ.tar \.tar.gz \.tgz \.bzip \.tar.xz \.txzï¼‰çš„æ–‡ä»¶ç³»ç»Ÿåˆ›å»ºé•œåƒ

> docker import <taræ–‡ä»¶çš„URLæˆ–è€… - ><æ³¨å†Œåç§°>/<é•œåƒåç§°>:<æ ‡ç­¾>


ä½¿ç”¨importå‘½ä»¤æ—¶ï¼Œå¯ä»¥è®¾ç½®taræ–‡ä»¶çš„URLï¼Œè‹¥è®¾ç½®ä¸º - ï¼Œåˆ™ä»æ ‡å‡†è¾“å…¥æ¥æ”¶taræ–‡ä»¶çš„å†…å®¹ã€‚æ—¢å¯ä»¥ä½¿ç”¨ç”±docker export å‘½ä»¤åˆ›å»ºçš„taræ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»„ç»‡æ–‡ä»¶ç³»ç»Ÿã€‚
    
    $ docker import http://example.com/hello.tar.zg hello
ä¸‹åˆ—å‘½ä»¤ä¸­ä½¿ç”¨æœ¬åœ°çš„ hello.tar æ–‡ä»¶çš„å†…å®¹é€šè¿‡ç®¡é“ä¼ é€’ç»™ docker import å‘½ä»¤
    $ cat hello.tar | docker import - hello
è‹¥æƒ³å°†å½“å‰ç›®å½•çš„å†…å®¹ç›´æ¥åˆ›å»ºä¸ºé•œåƒï¼š
    $ tar -c \. | docker import - hello

## info å‘½ä»¤
> infoå‘½ä»¤ç”¨äºæ˜¾ç¤ºå½“å‰ç³»ç»Ÿä¿¡æ¯ã€dockerå®¹å™¨ã€é•œåƒä¸ªæ•°ã€è®¾ç½®ç­‰ä¿¡æ¯ã€‚

> docker info
![å›¾ç‰‡æè¿°][2]

## inspect å‘½ä»¤
> inspect å‘½ä»¤ç”¨äºä»¥JSONæ ¼å¼æ˜¾ç¤ºå®¹å™¨ä¸é•œåƒçš„è¯¦ç»†ä¿¡æ¯

> docker inspect <é€‰é¡¹><å®¹å™¨æˆ–é•œåƒåç§°ï¼Œid>

`-fã€--format=""` åªæ˜¾ç¤ºæŒ‡å®šä¿¡æ¯ã€‚å¦‚ï¼š"{ {.NetworkSettings.IPAddress}}" ä½¿ç”¨ \. æ¥è®¾ç½®JSONæ–‡æ¡£çš„ä¸‹å±‚é¡¹ç›®
ä¸‹é¢å‘½ä»¤æ˜¾ç¤ºå®¹å™¨çš„IPåœ°å€
    $ docker run -it -d --name hello ubuntu /bin/bash
    $ docker inspect -f "{ {.NetworkSettings.IPAddress}}" hello
   
ä¸‹é¢å‘½ä»¤åªä»å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ä¸­æŠ½å–ç‰¹å®šéƒ¨åˆ†ï¼Œå¹¶æŒ‰ç…§æ‰€å¸Œæœ›çš„æ ¼å¼æ˜¾ç¤º    

    $ docker run -it -d --name hello -p 8000:80 -p 8080:8080 ubuntu /bin/bash
    $ docker inspect -f '{ {range $p, $conf := \.NetworkSettings.Ports}} { {$p}} -> { {(index $conf 0).HostPort}} { {end}}' hello
 ![å›¾ç‰‡æè¿°][3]
 æ­¤å¤„ä½¿ç”¨ { {range $p, $conf := \.NetworkSettings.Ports}} å¾ªç¯è®¿é—® \.NetworkSettings.Ports çš„å€¼ï¼Œå¹¶ä»£å…¥ $p $confã€‚ç„¶åè¾“å‡º$p,å¹¶å°†$confæ•°ç»„çš„ç¬¬ä¸€é¡¹ (index $conf 0) çš„ \.HostPort è¾“å‡ºã€‚
 å¦ï¼š.NetworkSettings.Ports æ˜¯ä¸€ä¸ªmapç±»å‹æ•°æ®ç»“æ„ï¼š
     map[80/tcp:[{0.0.0.0 8000}] 8080/tcp:[{0.0.0.0 8080}]]

## kill å‘½ä»¤
> killå‘½ä»¤ç”¨äºå‘å®¹å™¨å‘é€KILLä¿¡å·ï¼Œä»è€Œå…³é—­å®¹å™¨ï¼ˆæ¨èä½¿ç”¨æ›´ä¼˜é›…æ¸©å’Œçš„ docker stop å‘½ä»¤)

> docker <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>

`-sã€--signal="KILL"` å‘é€ç‰¹å®šä¿¡å·

## load å‘½ä»¤

> loadå‘½ä»¤ç”¨äºä»taræ–‡ä»¶åˆ›å»ºé•œåƒ

> docker load <é€‰é¡¹>

å°†taræ–‡ä»¶å‘é€åˆ° docker load å‘½ä»¤çš„æ ‡å‡†è¾“å…¥ï¼Œç„¶ååˆ›å»ºé•œåƒã€‚taræ–‡ä»¶ç”± docker save å‘½ä»¤åˆ›å»ºï¼ŒåŒ…å«é•œåƒåç§°ä¸æ ‡ç­¾ã€‚
`-iã€--input=""` ä¸ä½¿ç”¨æ ‡å‡†è¾“å…¥ï¼Œè®¾ç½®æ–‡ä»¶è·¯å¾„å¹¶åˆ›å»ºé•œåƒã€‚

    $ docker save myimages > myimages.tar  #å°†å·²å­˜åœ¨çš„é•œåƒä¿å­˜ä¸ºtaræ–‡ä»¶
    $ docker load < myimages.tar  #åœ¨å¦ä¸€å°ç”µè„‘ä»taræ–‡ä»¶åˆ›å»ºé•œåƒ

## login å‘½ä»¤
> loginå‘½ä»¤ç”¨äºç™»å½•Docker çš„æ³¨å†ŒæœåŠ¡å™¨
> docker login <é€‰é¡¹><Docker æ³¨å†ŒæœåŠ¡å™¨çš„URL>

è‹¥ä¸è®¾ç½®æ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œåˆ™é»˜è®¤ç™»å½•[dockerhub](https://hub.docker.com/)ï¼ˆapi  https://index.docker.io/v1/ï¼‰
`-eã€--email=""` è®¾ç½®ç™»å½•æ—¶ä½¿ç”¨çš„ç”µå­é‚®ä»¶
`-pã€--password=""` è®¾ç½®ç™»å½•å¯†ç 
`-uã€--username=""` è®¾ç½®ç™»å½•æ—¶ä½¿ç”¨çš„è´¦å·
## logout å‘½ä»¤
> logoutå‘½ä»¤ç”¨äºä»Dockeræ³¨å†ŒæœåŠ¡å™¨ä¸­ç™»å‡º

> docker logout <é€‰é¡¹><Docker æ³¨å†ŒæœåŠ¡å™¨çš„URL>

è‹¥ä¸è®¾ç½®æ³¨å†ŒæœåŠ¡å™¨çš„åœ°å€ï¼Œåˆ™é»˜è®¤ä¸º[dockerhub](https://hub.docker.com/)ï¼ˆapi  https://index.docker.io/v1/ï¼‰

## logs å‘½ä»¤

> logså‘½ä»¤ç”¨äºè¾“å‡ºå®¹å™¨æ—¥å¿—

> docker logs <å®¹å™¨åç§°ï¼Œid>

`-fã€--follow=false` ä¸€ç›´è¾“å‡ºå®æ—¶æ—¥å¿—
`-tã€--timestamp=false` åœ¨ç™»å½•æ—¶æ˜¾ç¤ºæ—¶é—´å€¼
`--tail="all"` æŒ‡å®šæ•°å­—ï¼Œåªä»æ—¥å¿—ä¸­è¾“å‡ºä¸€å®šä¸ªæ•°

## port å‘½ä»¤

> portå‘½ä»¤ç”¨äºæŸ¥çœ‹å®¹å™¨çš„æŸä¸ªç«¯å£æ˜¯å¦å¤„äºå¼€æ”¾çŠ¶æ€

> docker port <å®¹å™¨åç§°ï¼Œid><ç«¯å£>

![å›¾ç‰‡æè¿°][4]

## pause å‘½ä»¤

> pauseå‘½ä»¤ç”¨äºæš‚åœå®¹å™¨ä¸­æ­£åœ¨è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹

> docker pause <å®¹å™¨åç§°ï¼Œid>

![å›¾ç‰‡æè¿°][5]

## ps å‘½ä»¤

> pså‘½ä»¤ç”¨äºè¾“å‡ºå®¹å™¨åˆ—è¡¨

> docker ps <é€‰é¡¹>

`-aã€--all=false` åˆ—å‡ºæ‰€æœ‰å®¹å™¨ã€‚ä¸å¸¦ `-a` åªè¾“å‡ºåœ¨è¿è¡Œçš„å®¹å™¨
`--before=""` åˆ—å‡ºç‰¹å®šå®¹å™¨åˆ›å»ºå‰çš„å®¹å™¨ï¼ŒåŒ…å«åœæ­¢çš„å®¹å™¨ã€‚
`-fã€--filter=[]` è®¾ç½®è¾“å‡ºè¿‡æ»¤ã€‚å¦‚ "exited=0"
`-lã€--latest=false` åˆ—å‡ºæœ€ååˆ›å»ºçš„å®¹å™¨ï¼ŒåŒ…å«åœæ­¢çš„å®¹å™¨
`-qã€--quiet=false` åªè¾“å‡ºå®¹å™¨çš„id

## push å‘½ä»¤

> pushå‘½ä»¤ç”¨äºå°†é•œåƒæ¨é€åˆ°Dockeræ³¨å†ŒæœåŠ¡å™¨

> docker push <æ³¨å†Œå>/<é•œåƒå>:<æ ‡ç­¾>

æ³¨å†Œåä¸­æ—¢å¯ä»¥è®¾ç½®Docker Hub çš„ç”¨æˆ·åï¼Œä¹Ÿå¯ä»¥è®¾ç½®æ³¨å†Œåœ°å€
è‹¥ä¸è®¾ç½®æ ‡ç­¾ï¼Œåˆ™æ¨é€æ‰€æœ‰æ ‡ç­¾çš„é•œåƒ
    $ docker pull user/hello:latest
å¦‚ä¸‹æ¨é€åˆ°ä¸ªäººä»“åº“
    $ docker pull 192.168.0.33:6666/hello:latest
    $ docker pull yourset.com:6666/hello:latest

## restart å‘½ä»¤
> restartå‘½ä»¤ç”¨æˆ·é‡å¯å®¹å™¨

> docker restart <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>

`-tã€time=10` è®¾ç½®ä»å®¹å™¨åœæ­¢åˆ°é‡å¯çš„ç­‰å¾…æ—¶é—´ï¼Œå•ä½ä¸ºç§’
    $ docker restart hello

## rm å‘½ä»¤
> rm å‘½ä»¤ç”¨äºåˆ é™¤å®¹å™¨

> docker rm <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>

`-fã€--force=false` å¼ºåˆ¶åœæ­¢å®¹å™¨ååˆ é™¤ï¼ˆä½¿ç”¨SIGKILLä¿¡å·ï¼‰
`-lã€--link=false` åœ¨docker run å‘½ä»¤ä¸­ä½¿ç”¨--link é€‰é¡¹ï¼Œåªåˆ é™¤è¿æ¥ï¼Œä¸åˆ é™¤å®¹å™¨ã€‚
`-vã€--volumes=false` åˆ é™¤è¿æ¥åˆ°å®¹å™¨çš„æ•°æ®å·
è‹¥è¦ä¸€æ¬¡åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œå¯åœ¨docker psï¼šå‘½ä»¤ä¸­ä½¿ç”¨ `-a -q` é€‰é¡¹è·å–å®¹å™¨idåªæœ‰ä¼ ç»™docker rm å‘½ä»¤
    $ docker rm `docker ps -aq`
    $ docker rm $(docker ps -aq)
    
## rmi å‘½ä»¤

> rmiå‘½ä»¤ç”¨äºåˆ é™¤é•œåƒã€‚è‹¥ä¸æŒ‡å®šæ ‡ç­¾ï¼Œåˆ™åˆ é™¤latestæ ‡ç­¾

> docker rim <æ³¨å†Œåç§°>/<é•œåƒåç§°ï¼Œid>:<æ ‡ç­¾>

`-fã€--force=false` å¼ºåˆ¶åˆ é™¤é•œåƒ
`--no-prune=false` ä¸åˆ é™¤ä¸å¸¦æ ‡ç­¾çš„çˆ¶çº§é•œåƒ
    $ docker rmi hello
    $ docker rmi user/hello:latest
    $ docker rmi 192.168.0.33:6666/hello:latest  #è¿œç¨‹ä»“åº“é•œåƒ
    $ docker pull yourset.com:6666/hello:latest  #è¿œç¨‹ä»“åº“é•œåƒ
åˆ é™¤æ‰€æœ‰é•œåƒä¸åˆ é™¤å®¹å™¨ç±»ä¼¼
    $ docker rmi `docker images -aq`

## run å‘½ä»¤
> runå‘½ä»¤ç”¨äºæŒ‡å®šé•œåƒåˆ›å»ºå®¹å™¨

> docker run <é€‰é¡¹><é•œåƒåç§°ï¼Œid><å‘½ä»¤><å‚æ•°>

docker run å‘½ä»¤ ä¸ docker create åŸºæœ¬ç±»ä¼¼ å”¯ä¸€çš„ä¸åŒæ˜¯ runå‘½ä»¤åœ¨åˆ›å»ºå®¹å™¨åä¼šå¯åŠ¨å®¹å™¨ï¼Œæ‰€ä»¥å‚æ•°åŸºæœ¬ç±»ä¼¼ï¼Œåªæ˜¯å¤šäº†å…³äºå¯åŠ¨åçš„è®¾ç½®ï¼Œä¸€ä¸‹æ˜¯å¤šå‡ºæ¥çš„å‘½ä»¤ï¼š

`-dã€--detach` Detachæ¨¡å¼ï¼Œä¸€èˆ¬ä¸ºå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼Œå®¹å™¨ä»¥åå°æ–¹å¼è¿è¡Œ
`--rm=false` è‹¥å®¹å™¨å†…çš„è¿›ç¨‹ç»ˆæ­¢ï¼Œåˆ™è‡ªåŠ¨åˆ é™¤å®¹å™¨ï¼Œæ­¤é€‰é¡¹ä¸èƒ½ä¸`-d`é€‰é¡¹ä¸€èµ·ä½¿ç”¨
`--sig-proxy=true` å°†æ‰€æœ‰ä¿¡å·ä¼ é€’ç»™è¿›ç¨‹ï¼ˆéTTYæ¨¡å¼æ—¶ä¹Ÿä¸€æ ·ï¼‰ï¼Œä½†ä¸ä¼ é€’SIGCHLDã€SIGKILLã€SIGSTOPä¿¡å·

## save å‘½ä»¤
> saveå‘½ä»¤ç”¨äºå°†é•œåƒä¿å­˜ä¸ºtaråŒ…æ–‡ä»¶

> docker save <é€‰é¡¹><é•œåƒåç§°>:<æ ‡ç­¾>

`-oã€--output=""` è®¾ç½®ä¿å­˜çš„æ–‡ä»¶å
è‹¥ä¸è®¾ç½®`-o`é€‰é¡¹ï¼Œtaræ–‡ä»¶ä¼šè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œæ‰€ä»¥å¿…é¡»è®¾ç½®é‡å®šå‘ã€‚å¦‚æœä»…æŒ‡å®šé•œåƒåç§°è€ŒæœªæŒ‡å®šæ ‡ç­¾ï¼Œåˆ™å°†æ‰€æœ‰æ ‡ç­¾ä¿å­˜åˆ°ä¸€ä¸ªtaræ–‡ä»¶ã€‚
    
## search å‘½ä»¤
> searchå‘½ä»¤ç”¨ä¸åœ¨docker hub ä¸­æœç´¢é•œåƒ

> docker search <é€‰é¡¹><æœç´¢è¯>

`--automated=false` åªæ˜¾ç¤ºç”±docker hub çš„automated build åˆ›å»ºçš„é•œåƒ
`--no-trunc=false` æ˜¾ç¤ºæ‰€æœ‰å› å› ä¸ºå†…å®¹è¿‡é•¿è€Œçœç•¥çš„éƒ¨åˆ†
`-sã€--stars=0` æ˜¾ç¤ºæ»´å•Šæœ‰ç‰¹å®šæ˜Ÿçº§ä»¥ä¸Šçš„é•œåƒ
 
## start å‘½ä»¤
> startå‘½ä»¤ç”¨äºå¯åŠ¨å®¹å™¨

> docker start <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>

`-aã€--attrch=false` å°†æ ‡å‡†è¾“å…¥ã€æ ‡å‡†è¾“å‡ºã€æ ‡å‡†é”™è¯¯è¿æ¥åˆ°å®¹å™¨ï¼Œä¼ é€’æ‰€æœ‰ä¿¡å·
`-iã€--interactive=false` æ¿€æ´»æ ‡å‡†è¾“å…¥
    
## stop å‘½ä»¤
> stopå‘½ä»¤ç”¨äºç»ˆæ­¢å®¹å™¨

> docker stop <é€‰é¡¹><å®¹å™¨åç§°ï¼Œid>

`-tã€--time=10` è®¾ç½®ç»ˆæ­¢å®¹å™¨å‰çš„ç­‰å¾…æ—¶é—´ï¼Œå•ä½ä¸ºç§’
    
## tag å‘½ä»¤
> tagå‘½ä»¤ç”¨äºè®¾ç½®é•œæ ‡ç­¾

> docker tag <é€‰é¡¹><é•œåƒåç§°>:<æ ‡ç­¾><æ³¨å†Œåœ°å€ï¼Œç”¨æˆ·å>/<é•œåƒåç§°>:<æ ‡ç­¾>

`-fã€--force=false` å³ä½¿å·²æ‹¥æœ‰æ ‡ç­¾ä¹Ÿå¼ºåˆ¶è®¾ç½®
å¦‚å°†è¿œç¨‹ä»“åº“è®¾ç½®æ ‡ç­¾
    $ docker tag hello:latest user/hello:0.1  #è®¾ç½®docker hubä¸Šçš„
    $ docker tag hello:latest youset:6666/hello:0.1  #ç§äººä»“åº“
    
## top å‘½ä»¤
> topå‘½ä»¤ç”¨äºæ˜¾ç¤ºå®¹å™¨ä¸­æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯

> docker top <å®¹å™¨åç§°ï¼Œid><psé€‰é¡¹>

åœ¨<psé€‰é¡¹>ä¸­è®¾ç½® Linux ps å‘½ä»¤çš„é€‰é¡¹ [å‚è€ƒ](http://man.linuxde.net/ps)
    $ docker top hello aux
    
## unpause å‘½ä»¤
> unpauseå‘½ä»¤ç”¨äºé‡å¯ pause å‘½ä»¤æš‚åœçš„å®¹å™¨

> docker unpause <å®¹å™¨åç§°ï¼Œid>
    
## version å‘½ä»¤
    > versionå‘½ä»¤ç”¨äºè¾“å‡ºdockerçš„ç‰ˆæœ¬ä¿¡æ¯
    
    > docker version
 
## wait å‘½ä»¤

> wait å‘½ä»¤ç­‰å¾…å®¹å™¨ç»ˆæ­¢ï¼Œç„¶åè¾“å‡º Exit Code

> docker wait <å®¹å™¨åç§°ï¼Œid>

## åè®°
å•ä¸€çš„å®¹å™¨ä¸€èˆ¬ä¸èƒ½æ»¡è¶³ä¸šåŠ¡éœ€è¦ï¼Œéœ€è¦ä¸€ä¸ªç¼–æ’çš„å·¥å…·ã€‚Docker Composeå’ŒDocker Swarm æ­£æ˜¯è´Ÿè´£å¿«é€Ÿåœ¨é›†ç¾¤ä¸­éƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨ã€‚æ¼«æ¼«é•¿è·¯ï¼Œå­¦çš„è¿˜æœ‰å¥½å¤šï¼Œå·¥ä½œè™½ä¸æ˜¯è´Ÿè´£è¿™æ–¹é¢çš„ï¼Œæˆ‘æƒ³åšçš„åªæ˜¯å°†è‡ªå·±çš„æƒ³æ³•è¿è¡Œåœ¨ä»£ç æ˜¯è€Œå·²ã€‚



  [1]: https://segmentfault.com/img/bVK9Cx?w=1488&h=272
  [2]: https://segmentfault.com/img/bVLanU?w=1484&h=822
  [3]: https://segmentfault.com/img/bVLchf?w=2366&h=234
  [4]: https://segmentfault.com/img/bVLclB?w=864&h=148
  [5]: https://segmentfault.com/img/bVLcl6?w=2250&h=322
